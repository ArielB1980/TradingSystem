---
description: When editing risk or auction config, respect binding constraints and utilisation boost semantics
globs: src/config/config.py, src/config/config.yaml
alwaysApply: false
---

# Config: risk and auction binding constraints

When editing **risk** or **auction** sections in `src/config/config.py` or `src/config/config.yaml`:

1. **Binding constraints (why stakes are small):** The main limiters are usually `risk_per_trade_pct`, `max_single_position_margin_pct_equity`, min notional, and `auction_max_positions` â€” not `max_aggregate_margin_pct_equity`. See in-file comments and `FORAI.md`; do not suggest raising only aggregate cap to fix "tiny stakes" without checking the binding-constraint log.
2. **Utilisation boost:** `target_margin_util_min` and `utilisation_boost_max_factor` apply **only when `sizing_method == "leverage_based"`**. Do not enable or document boost for stop-distance-based sizing without revisiting risk-per-trade semantics.
3. **Margin caps:** We use margin caps (not notional caps). Keys: `max_single_position_margin_pct_equity`, `max_aggregate_margin_pct_equity`. There is no `use_margin_caps`; margin caps are always on.
4. **Consistency:** If you add or rename a risk/auction key, update both `config.py` (Field + default) and `config.yaml` (value + comment) and any code that reads it (e.g. `getattr(self.config, "key", default)`).
